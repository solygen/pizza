/* pizza.0.0.1 (2014-04-12) https://github.com/solygen/pizza.git */!function(){"use strict";var a=1,b={find:function(a){return document.querySelector(a)},create:function(a){return document.createElement(a)},hasClass:function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},addClass:function(a,b){this.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}}},c=7.37,d=b.find("#results"),e=b.find("#analyze"),f=b.find("#reset"),g=["large","medium","small"],h=function(){var a=b.create("div");a.className="result container panel panel-default";var c=b.create("div");c.className="panel-heading";var d=b.create("div");return d.className="panel-body",a.appendChild(c),a.appendChild(d),a},i=function(c,d,e){var f,g,h,i,j,k=Math.min.apply(null,e);d.forEach(function(a){f=b.create("div"),g=b.create("div"),h=b.create("div"),i=b.create("div"),j=b.create("div"),f.className="row "+a.size,g.className="size col-xs-2",h.className="price col-xs-3",i.className="pieces col-xs-4",j.className="red col-xs-3",g.innerText=a.size,h.innerText=a.price+" €",i.innerText=a.pieces+" pieces",k!==a.price?j.innerText=Math.round(100*(a.price*a.pieces-k*a.pieces))/100+" €":f.className=f.className+" green",f.appendChild(g),f.appendChild(h),f.appendChild(j),f.appendChild(i),c.querySelector(".panel-body").appendChild(f)}),c.querySelector(".panel-heading").innerHTML="#"+a++},j=function(a){for(var d=h(),e=[],f=[],j=g.length;j>0;j--){var k=g[j-1],l=Math.round(100*a[k].price_norm_piece,2)/100,m=Math.round(a[k].base/c*10)/10;""!==a[k].price&&"0"!==a[k].price&&(e.push(l),f.push({size:k.substr(0,3),price:l,pieces:m}))}return i(d,f,e),d=e.length?d:b.create("div")},k=function(a){for(var b=g.length;b>0;b--){var e=g[b-1];a[e].base=3.14*a[e].diameter,a[e].price_base_unit=a[e].price/a[e].base,a[e].price_norm_piece=a[e].price_base_unit*c}d.appendChild(j(a))};e.addEventListener("click",function(){var a={small:{price:b.find('[name="price_small"]').value.replace(",","."),diameter:b.find('[name="diameter_small"]').value},medium:{price:b.find('[name="price_medium"]').value.replace(",","."),diameter:b.find('[name="diameter_medium"]').value},large:{price:b.find('[name="price_large"]').value.replace(",","."),diameter:b.find('[name="diameter_large"]').value}};k(a)}),f.addEventListener("click",function(){b.find('[name="price_small"]').value=0,b.find('[name="price_medium"]').value=0,b.find('[name="price_large"]').value=0,b.find("#results").innerHTML=""}),window.addEventListener("load",function(){window.applicationCache.addEventListener("updateready",function(){window.applicationCache.status===window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),confirm("A new version of this site is available. Load it?")&&window.location.reload())},!1)},!1)}();